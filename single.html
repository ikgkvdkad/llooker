<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Single camera</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body class="single-body">
    <div class="single-page">
        <div class="single-toolbar">
            <button type="button" class="camera-control-button" id="singleOpenCameraButton" aria-label="Open camera">
                <span class="button-icon" aria-hidden="true">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M7 7.5L8.8 5.5H15.2L17 7.5H20C21.1 7.5 22 8.4 22 9.5V18.5C22 19.6 21.1 20.5 20 20.5H4C2.9 20.5 2 19.6 2 18.5V9.5C2 8.4 2.9 7.5 4 7.5H7Z" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M12 16.5C13.933 16.5 15.5 14.933 15.5 13C15.5 11.067 13.933 9.5 12 9.5C10.067 9.5 8.5 11.067 8.5 13C8.5 14.933 10.067 16.5 12 16.5Z" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </span>
                <span class="sr-only camera-button-label">Open camera</span>
            </button>

            <button type="button" class="camera-control-button" id="youUploadButton" aria-label="Upload">
                <span class="button-icon" aria-hidden="true">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M21 15V19C21 20.1 20.1 21 19 21H5C3.9 21 3 20.1 3 19V15" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M12 14V4" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M8 8L12 4L16 8" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </span>
                <span class="sr-only upload-button-label">Upload</span>
            </button>

            <button type="button" class="camera-control-button destructive" id="singleClearButton" aria-label="Clear all saved selections">
                <span class="button-icon" aria-hidden="true">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M5 7H19" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M10 11V17" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M14 11V17" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M7 7L8 19C8 20.1 8.9 21 10 21H14C15.1 21 16 20.1 16 19L17 7" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M9 7V5C9 3.9 9.9 3 11 3H13C14.1 3 15 3.9 15 5V7" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </span>
                <span class="sr-only">Clear all</span>
            </button>

            <div class="vision-toggle-container">
                <label class="vision-toggle-label" for="visionToggle">
                    <span class="vision-toggle-text">Vision check</span>
                    <input type="checkbox" id="visionToggle" class="vision-toggle-input" checked>
                    <span class="vision-toggle-slider"></span>
                </label>
            </div>

            <input type="file" accept="image/*" multiple id="youUploadInput" class="analysis-upload-input" aria-label="Upload photo for Subject">
        </div>

        <div class="single-selections-section">
            <h2 class="single-selections-title">Saved selections</h2>
            <div id="singleSelectionList" class="single-selections-list" aria-live="polite"></div>
        </div>

        <div id="versionDisplay" class="version-badge" aria-live="polite"></div>
        <div id="toastStack" class="toast-stack" aria-live="polite" aria-atomic="false"></div>
    </div>

    <div class="single-description-modal" id="singleDescriptionModal" aria-hidden="true">
        <div class="single-description-overlay" id="singleDescriptionOverlay"></div>
        <div class="single-description-panel" role="dialog" aria-modal="true" aria-labelledby="singleDescriptionTitle">
            <button type="button" class="single-description-close" id="singleDescriptionCloseButton" aria-label="Close details">
                <span aria-hidden="true">&times;</span>
            </button>
            <h2 id="singleDescriptionTitle" class="single-description-title">Photo description</h2>
            <div class="single-description-content">
                <p id="singleDescriptionText" class="single-description-text"></p>
                <div id="singleDescriptionClarity" class="single-description-clarity is-empty"></div>
                <div class="single-description-grouping" id="singleGroupingSection">
                    <div class="single-description-grouping-label">Grouping decision</div>
                    <div id="singleGroupingProbability" class="single-description-grouping-probability is-empty"></div>
                    <p id="singleGroupingExplanation" class="single-description-grouping-explanation is-empty"></p>
                    <div id="singleGroupingDetails" class="single-description-grouping-details is-empty"></div>
                    <div id="singleBestCandidate" class="single-best-candidate is-empty"></div>
                    <div id="singleGroupingId" class="single-description-grouping-id is-empty"></div>
                </div>
                <div class="single-description-neighbors" id="singleDescriptionNeighbors"></div>
                <div class="single-description-structured" id="singleDescriptionStructured"></div>
            </div>
        </div>
    </div>

    <div class="single-camera-modal" id="singleCameraModal" aria-hidden="true">
        <div class="single-camera-overlay" id="singleCameraOverlay"></div>
        <div class="camera-container single-mode">
            <div class="camera-row">
                <div class="camera-half left" id="backCameraHalf">
                    <div class="placeholder-text" id="backPlaceholder">
                        <img src="img/human-placeholder.svg" alt="" class="placeholder-icon" aria-hidden="true">
                        <span class="placeholder-label">Subject</span>
                    </div>
                    <video id="backVideoElement" class="video-element" autoplay playsinline></video>
                    <img id="backCapturedPhoto" class="captured-photo" alt="Captured photo">
                    <div class="selection-overlay" id="backSelectionOverlay" aria-hidden="true">
                        <div class="selection-box" id="backSelectionBox" role="presentation" aria-hidden="true">
                            <div class="corner-handle top-left" data-handle="top-left" aria-hidden="true"></div>
                            <div class="corner-handle top-right" data-handle="top-right" aria-hidden="true"></div>
                            <div class="corner-handle bottom-left" data-handle="bottom-left" aria-hidden="true"></div>
                            <div class="corner-handle bottom-right" data-handle="bottom-right" aria-hidden="true"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="controls-row single-controls-row">
                <div class="controls-half single-controls-half">
                    <button type="button" class="camera-control-button" id="youCameraButton" aria-label="Camera">
                        <span class="button-icon" aria-hidden="true">
                            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M7 7.5L8.8 5.5H15.2L17 7.5H20C21.1 7.5 22 8.4 22 9.5V18.5C22 19.6 21.1 20.5 20 20.5H4C2.9 20.5 2 19.6 2 18.5V9.5C2 8.4 2.9 7.5 4 7.5H7Z" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M12 16.5C13.933 16.5 15.5 14.933 15.5 13C15.5 11.067 13.933 9.5 12 9.5C10.067 9.5 8.5 11.067 8.5 13C8.5 14.933 10.067 16.5 12 16.5Z" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </span>
                        <span class="sr-only camera-button-label">Camera</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="js/single.js"></script>
</body>
</html>
